
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{a as m,q as f,t as u,A as h,V as w,H as g,M as B,o as E,$ as H,J as S,r as d,y as o,z as s}from"./vendor.d2559d84.js";import{_ as q}from"./index.f1e12eef.js";const C={class:"header"},T={class:"title"},U={class:"content"},j={props:{title:{type:String,required:!0},content:{type:String,default:""}},setup(r){return(e,n)=>(m(),f("div",C,[u("div",null,[u("div",T,h(r.title),1),u("div",U,[w(e.$slots,"content",{},()=>[g(h(r.content),1)],!0)])]),u("div",null,[w(e.$slots,"default",{},void 0,!0)])]))}};var M=p(j,[["__scopeId","data-v-39b9a883"]]);const N={setup(r){const e=B({isBottom:!0});E(()=>{n(),window.addEventListener("scroll",n)}),H(()=>{window.removeEventListener("scroll",n)});function n(){var l=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,i=document.documentElement.scrollHeight||document.body.scrollHeight;Math.ceil(l+t)>=i?e.value.isBottom=!0:e.value.isBottom=!1}return(l,t)=>(m(),f("div",{class:S(["actionbar",{shadow:!e.value.isBottom}]),"data-fixed-calc-width":""},[w(l.$slots,"default",{},void 0,!0)],2))}};var P=p(N,[["__scopeId","data-v-bb598bd4"]]);const z={data(){return{form:{password:"",newpassword:"",checkpassword:""},rules:{password:[{required:!0,message:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801",trigger:"blur"}],newpassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",trigger:"blur"},{min:6,max:18,trigger:"blur",message:"\u5BC6\u7801\u957F\u5EA6\u4E3A6\u523018\u4F4D"}],checkpassword:[{required:!0,message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",trigger:"blur"},{validator:(e,n,l)=>{n!==this.form.newpassword?l(new Error("\u8BF7\u786E\u8BA4\u65B0\u5BC6\u7801")):l()}}]}}},methods:{onSubmit(){this.$refs.form.validate(r=>{r&&this.$store.dispatch("user/editPassword",this.form).then(()=>{this.$message({type:"success",message:"\u4FEE\u6539\u6210\u529F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"}),this.$store.dispatch("user/logout").then(()=>{this.$router.push("/login")})}).catch(()=>{})})}}},I=g("\u63D0\u4EA4");function L(r,e,n,l,t,i){const v=M,c=d("el-input"),_=d("el-form-item"),b=d("el-form"),y=d("el-col"),x=d("el-row"),V=q,$=d("el-button"),k=P;return m(),f("div",null,[o(v,{title:"\u4FEE\u6539\u5BC6\u7801",content:"\u5B9A\u671F\u4FEE\u6539\u5BC6\u7801\u53EF\u4EE5\u63D0\u9AD8\u5E10\u53F7\u5B89\u5168\u6027\u5662~"}),o(V,null,{default:s(()=>[o(x,null,{default:s(()=>[o(y,{md:24,lg:12},{default:s(()=>[o(b,{ref:"form",model:t.form,rules:t.rules,"label-width":"120px"},{default:s(()=>[o(_,{label:"\u539F\u5BC6\u7801",prop:"password"},{default:s(()=>[o(c,{modelValue:t.form.password,"onUpdate:modelValue":e[0]||(e[0]=a=>t.form.password=a),type:"password",placeholder:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),o(_,{label:"\u65B0\u5BC6\u7801",prop:"newpassword"},{default:s(()=>[o(c,{modelValue:t.form.newpassword,"onUpdate:modelValue":e[1]||(e[1]=a=>t.form.newpassword=a),type:"password",placeholder:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),o(_,{label:"\u786E\u8BA4\u65B0\u5BC6\u7801",prop:"checkpassword"},{default:s(()=>[o(c,{modelValue:t.form.checkpassword,"onUpdate:modelValue":e[2]||(e[2]=a=>t.form.checkpassword=a),type:"password",placeholder:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1}),o(k,null,{default:s(()=>[o($,{type:"primary",onClick:i.onSubmit},{default:s(()=>[I]),_:1},8,["onClick"])]),_:1})])}var F=p(z,[["render",L]]);export{F as default};
