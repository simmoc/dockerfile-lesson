
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as R}from"./index.a5dee889.js";import{_ as Q}from"./index.f1e12eef.js";import{H as G}from"./index.94e839d6.js";import{P as V,O as $,M as k,o as A,h as F,r as N,a as l,q as a,y as w,z as m,t as e,A as o,c as f,L as P,D as i,R as b,S as x,H as d,F as z,G as J}from"./vendor.d2559d84.js";import{C as W}from"./index.41459e6c.js";import I from"./memberCheck.fd55ab8d.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";import"./word-img.bb3865fc.js";import"./drag.56588ea6.js";import"./sortable.esm.81321d43.js";import"./index.fece4a24.js";import"./contant.2e72a177.js";import"./error.32433a76.js";const y=q=>(z("data-v-695ae758"),q=q(),J(),q),U={class:"titleClass"},X=d("\u67E5\u770B\u6267\u884C\u8BE6\u60C5"),Y={key:0},Z={class:"mt16"},ee={class:"textClass"},te=d(" \u53D1\u9001\u5BF9\u8C61\u7C7B\u578B\uFF1A "),se={class:"content"},le={class:"textClass ml32"},ae=d(" \u7B5B\u9009\u5BA2\u6237\uFF1A "),oe={class:"content"},ne={key:0,class:"mt16 flex flex-align-center"},_e={class:"textClass flex flex-align-center"},ce=y(()=>e("div",null,"\u6807\u7B7E\u7B5B\u9009\uFF1A",-1)),ie={key:0,class:"labelBox"},re={key:1,class:"labelBox"},ue={class:"member-tag-pop"},de={class:"flex flex-align-end"},he=y(()=>e("div",null,"...",-1)),ve={class:"textClass ml32 flex flex-align-center"},me=y(()=>e("div",null,"\u6210\u5458\uFF1A",-1)),pe={key:0},ge={key:1,class:"event-list-page"},fe={class:"icon-in-td"},be=["src","alt"],xe={class:"cl-blue member-name"},ye={class:"event-list-page"},ke={class:"icon-in-td"},we=["src","alt"],Ce={class:"cl-blue member-name"},qe={class:"mt24"},je=y(()=>e("p",{class:"otherTitleClass"},"\u5176\u4ED6\u4FE1\u606F",-1)),Fe={class:"mt8 otherTitle flex flex-direction-column p20"},De={class:"flex-1 textClass"},He=d(" \u89E6\u8FBE\u65B9\u5F0F\uFF1A "),Ie={class:"content"},Me={class:"flex-1 textClass"},Te={class:"flex-1"},Ne={class:"textClass"},Be=d(" \u4EFB\u52A1\u5F00\u59CB\u65F6\u95F4\uFF1A "),Ee={class:"content"},Se={class:"textClass ml32"},Le=d(" \u4EFB\u52A1\u622A\u6B62\u65F6\u95F4\uFF1A "),Oe={class:"content"},Re={key:1},Qe={class:"mt16"},Ge={class:"textClass"},Ve=d(" \u53D1\u9001\u5BF9\u8C61\u7C7B\u578B\uFF1A "),$e={class:"content"},Ae={class:"textClass"},Pe=d(" \u7B5B\u9009\u5BA2\u6237\u7FA4\uFF1A "),ze={class:"content"},Je={key:0,class:"mt16"},We={class:"textClass"},Ke=d(" \u6210\u5458(\u7FA4\u4E3B)\u7B5B\u9009\uFF1A "),Ue={key:0,class:"event-list-page"},Xe={class:"icon-in-td"},Ye=["src","alt"],Ze={class:"cl-blue member-name"},et={class:"event-list-page"},tt={class:"icon-in-td"},st=["src","alt"],lt={class:"cl-blue member-name"},at={class:"mt24"},ot=y(()=>e("p",{class:"otherTitleClass"},"\u5176\u4ED6\u4FE1\u606F",-1)),nt={class:"mt8 otherTitle flex flex-direction-column p20"},_t={class:"flex-1 textClass"},ct=d(" \u89E6\u8FBE\u65B9\u5F0F\uFF1A "),it={class:"content"},rt={class:"flex-1 textClass"},ut={class:"flex-1"},dt={class:"textClass"},ht=d(" \u4EFB\u52A1\u5F00\u59CB\u65F6\u95F4\uFF1A "),vt={class:"content"},mt={class:"textClass ml32"},pt=d(" \u4EFB\u52A1\u622A\u6B62\u65F6\u95F4\uFF1A "),gt={class:"content"},ft={key:2},bt={class:"mt16"},xt={class:"textClass"},yt=d(" \u53D1\u9001\u5BF9\u8C61\u7C7B\u578B\uFF1A "),kt={class:"content"},wt={class:"textClass"},Ct=d(" \u7B5B\u9009\u5BA2\u6237\uFF1A "),qt={class:"content"},jt={key:0,class:"mt16 flex flex-align-center"},Ft={class:"textClass flex flex-align-center"},Dt=y(()=>e("div",null,"\u6807\u7B7E\u7B5B\u9009\uFF1A",-1)),Ht={key:0,class:"labelBox"},It={key:1,class:"labelBox"},Mt={class:"member-tag-pop"},Tt={class:"flex flex-align-center"},Nt={class:"labelBox"},Bt=y(()=>e("div",null,"...",-1)),Et={class:"textClass ml32 flex flex-align-center"},St=y(()=>e("div",null,"\u6210\u5458\uFF1A",-1)),Lt={key:0},Ot={key:1,class:"event-list-page"},Rt={class:"icon-in-td"},Qt=["src","alt"],Gt={class:"cl-blue member-name"},Vt={class:"event-list-page"},$t={class:"icon-in-td"},At=["src","alt"],Pt={class:"cl-blue member-name"},zt={class:"mt24"},Jt=y(()=>e("p",{class:"otherTitleClass"},"\u5176\u4ED6\u4FE1\u606F",-1)),Wt={class:"mt8 otherTitle flex flex-direction-column p20"},Kt={class:"flex-1 textClass"},Ut=d(" \u89E6\u8FBE\u65B9\u5F0F\uFF1A "),Xt={class:"content"},Yt={class:"flex-1 textClass"},Zt={class:"flex-1"},es={class:"textClass"},ts=d(" \u4EFB\u52A1\u5F00\u59CB\u65F6\u95F4\uFF1A "),ss={class:"content"},ls={class:"textClass ml32"},as=d(" \u4EFB\u52A1\u622A\u6B62\u65F6\u95F4\uFF1A "),os={class:"content"},ns={class:"mt24 search-head-wrap"},_s=y(()=>e("label",{class:"otherTitleClass"},"\u6D88\u606F\u5185\u5BB9",-1)),cs={setup(q){const B=V(),M=$(),D=k([]),g=k(""),T=k([]),s=k({}),r=k([]),j=k([]),u=k([]);function E(h){B.push({name:"ImplementDetail",query:{id:h,is_repeat:s.value.is_repeat}})}A(()=>{S(M.query.id)});const S=async h=>{let{data:v}=await G.handEditOrDetailTask({id:h});s.value=v,console.log("taskDetailData.value",s.value),JSON.stringify(s.value.receive_group)!="[]"&&(s.value.receive_group[0].tag_arr&&(u.value=s.value.receive_group[0].tag_arr),s.value.receive_group[0].select_members_info&&(r.value=s.value.receive_group[0].select_members_info,r.value.length>3&&(j.value=r.value.slice(0,3)))),T.value=L(v),H(s.value.start_time),s.value.start_time=F(s.value.start_time).format(`MM-DD ${g.value} HH:mm`),H(s.value.end_time),s.value.end_time=F(s.value.end_time).format(`MM-DD ${g.value} HH:mm`),H(s.value.repeat_deadline),s.value.repeat_deadline=F(s.value.repeat_deadline).format(`MM-DD ${g.value} HH:mm`),JSON.stringify(s.value.repeat_node)!="null"&&O(s.value.repeat_node)},L=h=>{let v=[];if(h.content){let _={type:"TEXT",content:h.content};v.push(_)}if(h.annex_content_json&&h.annex_content_json.length){let _=h.annex_content_json;for(let n=0;n<_.length;n++){let c={},C="";switch(_[n].type){case"images":c.type="IMAGE",c.file_id=_[n].source_id,c.sort=n,c.file_url=_[n].upload_url;break;case"web_page":c.type="LINK",c.sort=n,c.file_id=_[n].source_id,c.qw_link_title=_[n].title,c.file_url=_[n].upload_url,c.qw_link_desc=_[n].description,C=_[n].url.split("://"),c.qw_link_url=C[1],c.url=C[0]+"://";break;case"we_applets":c.type="MINIPROGRAM",c.sort=n,c.file_id=_[n].source_id,c.qw_miniprogram_title=_[n].title,c.qw_miniprogram_appid=_[n].appid,c.qw_miniprogram_page=_[n].url,c.file_url=_[n].upload_url;break;case"video":c.sort=n,c.type="VIDEO",c.file_id=_[n].source_id,c.title=_[n].title||"",c.file_url=_[n].media_url;break;case"FILE":c=_[n];break}v.push(c)}}return console.log("\u56DE\u663E\u6570\u636E",v),v};function H(h){switch(F(h).day()){case 1:return g.value="\u5468\u4E00";case 2:return g.value="\u5468\u4E8C";case 3:return g.value="\u5468\u4E09";case 4:return g.value="\u5468\u56DB";case 5:return g.value="\u5468\u4E94";case 6:return g.value="\u5468\u516D";case 0:return g.value="\u5468\u65E5"}}function O(h){let v=h,_=[];v.forEach(n=>{switch(n){case"1":return _.push("\u661F\u671F\u4E00");case"2":return _.push("\u661F\u671F\u4E8C");case"3":return _.push("\u661F\u671F\u4E09");case"4":return _.push("\u661F\u671F\u56DB");case"5":return _.push("\u661F\u671F\u4E94");case"6":return _.push("\u661F\u671F\u516D");case"7":return _.push("\u661F\u671F\u65E5");default:return _.push(n)}}),D.value=_.join("; "),console.log("week",D.value,D.value.length)}return(h,v)=>{const _=N("el-button"),n=R,c=N("el-popover"),C=Q;return l(),a("div",null,[w(C,{class:"page-scroll"},{default:m(()=>[e("div",null,[e("div",null,[e("label",U,o(s.value.name),1),s.value.is_show_button===1?(l(),f(_,{key:0,size:"small",class:"ml12",onClick:v[0]||(v[0]=t=>E(P(M).query.id))},{default:m(()=>[X]),_:1})):i("",!0)]),s.value.touch_object==="SINGLE"?(l(),a("div",Y,[e("div",null,[e("div",Z,[e("label",ee,[te,e("span",se,o(s.value.touch_object_txt),1)]),e("label",le,[ae,e("span",oe,o(s.value.receive_type_txt),1)])]),s.value.receive_type=="1"?(l(),a("div",ne,[e("div",_e,[ce,u.value.length===0?(l(),a("div",ie," -- ")):i("",!0),u.value.length===1?(l(),a("div",re,[(l(!0),a(b,null,x(u.value,t=>(l(),f(n,{key:t.tag_group_id,"left-title":t.tag_group_name,"right-title":t.name,color:t.tag_type==="HQ"?"#409eff":"#FF6F00","customer-style":{"margin-bottom":"10px"}},null,8,["left-title","right-title","color"]))),128))])):i("",!0),u.value.length>1?(l(),f(c,{key:2,placement:"bottom",trigger:"hover","popper-class":"key-word-pop",width:"542"},{reference:m(()=>[e("div",de,[e("div",null,[w(n,{"left-title":u.value[0].tag_group_name,"right-title":u.value[0].name,color:u.value[0].tag_type==="HQ"?"#409eff":"#FF6F00","customer-style":{"margin-bottom":0}},null,8,["left-title","right-title","color"])]),he])]),default:m(()=>[e("div",ue,[(l(!0),a(b,null,x(u.value,t=>(l(),f(n,{key:t.tag_group_id,"left-title":t.tag_group_name,"right-title":t.name,color:t.tag_type==="HQ"?"#409eff":"#FF6F00","right-text-break":!1,"right-text-auto":!0},null,8,["left-title","right-title","color"]))),128))])]),_:1})):i("",!0)]),e("div",ve,[me,r.value.length===0?(l(),a("div",pe," -- ")):0<r.value.length&&r.value.length<=3?(l(),a("div",ge,[(l(!0),a(b,null,x(r.value,(t,p)=>(l(),a("span",{key:p},[e("div",fe,[t.qw_thumb_avatar?(l(),a("img",{key:0,src:t.qw_thumb_avatar,alt:t.qw_thumb_avatar},null,8,be)):i("",!0)]),e("span",xe,o(t.member_name)+" / "+o(t.parent_name),1)]))),128))])):(l(),f(c,{key:2,width:"400",trigger:"click"},{reference:m(()=>[e("span",ye,[(l(!0),a(b,null,x(j.value,(t,p)=>(l(),a("span",{key:p},[e("div",ke,[t.qw_thumb_avatar?(l(),a("img",{key:0,src:t.qw_thumb_avatar,alt:t.qw_thumb_avatar},null,8,we)):i("",!0)]),e("span",Ce,o(t.member_name)+" / "+o(t.parent_name)+" ... ",1)]))),128))])]),default:m(()=>[w(I,{"member-data":r.value},null,8,["member-data"])]),_:1}))])])):i("",!0)]),e("div",qe,[je,e("div",Fe,[e("p",De,[He,e("span",Ie,o(s.value.task_type_txt),1)]),e("p",Me,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u6570\uFF1A"+o(s.value.select_receiver_num-s.value.no_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u6570\uFF1A"+o(s.value.select_receiver_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+o(s.value.no_touch_num),1),e("div",Te,[e("label",Ne,[Be,e("span",Ee,o(s.value.start_time),1)]),e("label",Se,[Le,e("span",Oe,o(s.value.end_time),1)])])])])])):i("",!0),s.value.touch_object==="GROUP"?(l(),a("div",Re,[e("div",null,[e("div",Qe,[e("label",Ge,[Ve,e("span",$e,o(s.value.touch_object_txt),1)]),e("label",Ae,[Pe,e("span",ze,o(s.value.receive_type_txt),1)])]),s.value.receive_type=="1"?(l(),a("div",Je,[e("label",We,[Ke,0<r.value.length&&r.value.length<=3?(l(),a("span",Ue,[(l(!0),a(b,null,x(r.value,(t,p)=>(l(),a("span",{key:p},[e("div",Xe,[t.qw_thumb_avatar?(l(),a("img",{key:0,src:t.qw_thumb_avatar,alt:t.qw_thumb_avatar},null,8,Ye)):i("",!0)]),e("span",Ze,o(t.member_name)+" / "+o(t.parent_name),1)]))),128))])):(l(),f(c,{key:1,width:"400",trigger:"click"},{reference:m(()=>[e("span",et,[(l(!0),a(b,null,x(j.value,(t,p)=>(l(),a("span",{key:p},[e("div",tt,[t.qw_thumb_avatar?(l(),a("img",{key:0,src:t.qw_thumb_avatar,alt:t.qw_thumb_avatar},null,8,st)):i("",!0)]),e("span",lt,o(t.member_name)+" / "+o(t.parent_name)+" ... ",1)]))),128))])]),default:m(()=>[w(I,{"member-data":r.value},null,8,["member-data"])]),_:1}))])])):i("",!0)]),e("div",at,[ot,e("div",nt,[e("p",_t,[ct,e("span",it,o(s.value.task_type_txt),1)]),e("p",rt,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u7FA4\u6570\uFF1A"+o(s.value.select_receiver_num-s.value.no_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u7FA4\u6570\uFF1A"+o(s.value.select_receiver_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+o(s.value.no_touch_num),1),e("div",ut,[e("label",dt,[ht,e("span",vt,o(s.value.start_time),1)]),e("label",mt,[pt,e("span",gt,o(s.value.end_time),1)])])])])])):i("",!0),s.value.touch_object==="MOMENTS"?(l(),a("div",ft,[e("div",null,[e("div",bt,[e("label",xt,[yt,e("span",kt,o(s.value.touch_object_txt),1)]),e("label",wt,[Ct,e("span",qt,o(s.value.receive_type_txt),1)])])]),s.value.receive_type=="1"?(l(),a("div",jt,[e("div",Ft,[Dt,u.value.length===0?(l(),a("div",Ht," -- ")):i("",!0),u.value.length===1?(l(),a("div",It,[(l(!0),a(b,null,x(u.value,t=>(l(),f(n,{key:t.tag_group_id,"left-title":t.tag_group_name,"right-title":t.name,color:t.tag_type==="HQ"?"#409eff":"#FF6F00","customer-style":{"margin-bottom":"10px"}},null,8,["left-title","right-title","color"]))),128))])):i("",!0),u.value.length>1?(l(),f(c,{key:2,placement:"bottom",trigger:"hover","popper-class":"key-word-pop",width:"542"},{reference:m(()=>[e("div",Tt,[e("div",Nt,[w(n,{"left-title":u.value[0].tag_group_name,"right-title":u.value[0].name,color:u.value[0].tag_type==="HQ"?"#409eff":"#FF6F00","customer-style":{"margin-bottom":0}},null,8,["left-title","right-title","color"])]),Bt])]),default:m(()=>[e("div",Mt,[(l(!0),a(b,null,x(u.value,t=>(l(),f(n,{key:t.tag_group_id,"left-title":t.tag_group_name,"right-title":t.name,color:t.tag_type==="HQ"?"#409eff":"#FF6F00","right-text-break":!1,"right-text-auto":!0},null,8,["left-title","right-title","color"]))),128))])]),_:1})):i("",!0)]),e("div",Et,[St,r.value.length===0?(l(),a("div",Lt," -- ")):0<r.value.length&&r.value.length<=3?(l(),a("div",Ot,[(l(!0),a(b,null,x(r.value,(t,p)=>(l(),a("span",{key:p},[e("div",Rt,[t.qw_thumb_avatar?(l(),a("img",{key:0,src:t.qw_thumb_avatar,alt:t.qw_thumb_avatar},null,8,Qt)):i("",!0)]),e("span",Gt,o(t.member_name)+" / "+o(t.parent_name),1)]))),128))])):(l(),f(c,{key:2,width:"400",trigger:"click"},{reference:m(()=>[e("span",Vt,[(l(!0),a(b,null,x(j.value,(t,p)=>(l(),a("span",{key:p},[e("div",$t,[t.qw_thumb_avatar?(l(),a("img",{key:0,src:t.qw_thumb_avatar,alt:t.qw_thumb_avatar},null,8,At)):i("",!0)]),e("span",Pt,o(t.member_name)+" / "+o(t.parent_name)+" ... ",1)]))),128))])]),default:m(()=>[w(I,{"member-data":r.value},null,8,["member-data"])]),_:1}))])])):i("",!0),e("div",zt,[Jt,e("div",Wt,[e("p",Kt,[Ut,e("span",Xt,o(s.value.task_type_txt),1)]),e("p",Yt,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u6570\uFF1A"+o(s.value.select_receiver_num-s.value.no_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u6570\uFF1A"+o(s.value.select_receiver_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+o(s.value.no_touch_num),1),e("div",Zt,[e("label",es,[ts,e("span",ss,o(s.value.start_time),1)]),e("label",ls,[as,e("span",os,o(s.value.end_time),1)])])])])])):i("",!0),e("div",ns,[_s,e("div",null,[w(W,{list:T.value,"check-list":!0},null,8,["list"])])])])]),_:1})])}}};var ks=K(cs,[["__scopeId","data-v-695ae758"]]);export{ks as default};
