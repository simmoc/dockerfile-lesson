
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{H as T}from"./index.94e839d6.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import{M as n,w as j,a6 as C,o as N,r as h,a as _,q as p,t as i,y as B,z as y,c as M,A as m,D}from"./vendor.d2559d84.js";const S={class:"crud-classify-tree flex-column flex-row-start"},V={class:"crud-classify-tree-wrap flex-1"},A={class:"custom-tree-node flex-1 flex-justfy-between"},H=["id","label","onMouseover"],O={class:"overflow-ellipsis pr16 left-label-txt"},P={key:1,class:"overflow-ellipsis pr16 left-label-txt"},W={key:2,class:"mock-info-badge"},q={props:{onSearch:{type:Array,default:()=>[]},params:{type:Object,default:()=>{}},selectItem:{type:Object,default:()=>{}}},emits:["selectItem"],setup(x,{emit:d}){const e=x,s=n({}),u=n(null),o=n([]),t=n({group_name:"",code_name:"",start_time:"",end_time:"",search_member_id_arr:[],search_department_id_arr:[]});j(()=>e.onSearch,()=>{t.value.code_name=e.params.search_name,t.value.start_time=e.params.start_time,t.value.end_time=e.params.end_time,t.value.search_member_id_arr=e.params.search_member_id_arr,t.value.search_department_id_arr=e.params.search_department_id_arr,v()});const v=async()=>{const{data:a}=await T.getmemberGroup(t.value);o.value=a||[],s.value=o.value[0]||{},o.value[0]?(d("selectItem",s.value),console.log("\u5206\u7EC4\u7C7B\u76EE",u.value),C(()=>{u.value.setCurrentKey(s.value.id)})):d("selectItem","")},g=(a,f)=>{let{target:l}=a;l.scrollWidth>l.clientWidth&&(f.isPopover=!0)},b=a=>{d("selectItem",a)};return N(()=>{v()}),(a,f)=>{const l=h("el-tooltip"),k=h("el-tree");return _(),p("div",S,[i("div",V,[B(k,{ref_key:"filterTree",ref:u,class:"filter-tree",data:o.value,"node-key":"id","highlight-current":"","current-node-key":s.value.id,"default-expand-all":"","expand-on-click-node":!1,indent:8,onNodeClick:b},{default:y(({node:c,data:r})=>[i("div",A,[i("div",{id:c.id,class:"left-label",label:r.name,onMouseover:w=>g(w,r)},[r.isPopover?(_(),M(l,{key:0,"popper-class":"crud-classify-tree-label-popover",content:c.data.name,placement:"top-start"},{default:y(()=>[i("div",O,m(c.data.name),1)]),_:2},1032,["content"])):(_(),p("div",P,m(c.data.name),1)),r.hits_num?(_(),p("div",W,m(r.hits_num>99?"99+":r.hits_num),1)):D("",!0)],40,H)])]),_:1},8,["data","current-node-key"])])])}}};var K=I(q,[["__scopeId","data-v-483b8cf4"]]);export{K as default};
