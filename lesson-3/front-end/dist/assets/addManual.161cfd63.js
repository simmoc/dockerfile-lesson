
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as ie}from"./select-member.d05cd3eb.js";import{_ as ce}from"./index.f1e12eef.js";import{_ as de}from"./index.5931791c.js";import{H as N}from"./index.94e839d6.js";import{P as me,O as pe,M as h,Q as ve,o as fe,r as b,a as c,q as d,y as o,z as u,L as V,t as i,c as Y,D as q,A as _,H as m,F as ge,G as he,E as v,h as be}from"./vendor.d2559d84.js";import X from"./calendarSelect.44eb066d.js";import ye from"./calendar-select-member.d95236b3.js";import{C as ke}from"./index.384ab11c.js";import{C as we}from"./index.86b73b96.js";import{_ as B}from"./index.60aa6862.js";import{_ as Ve}from"./plugin-vue_export-helper.21dcd24c.js";import"./tick@2x.1e6bc440.js";import"./vuedraggable.umd.56963d08.js";import"./sortable.esm.81321d43.js";import"./index.a5dee889.js";import"./calendar-org-tab.5145aaad.js";import"./index.41459e6c.js";import"./word-img.bb3865fc.js";import"./drag.56588ea6.js";import"./index.a3c908a5.js";import"./formValidate.137fd30a.js";const C=S=>(ge("data-v-1af14eca"),S=S(),he(),S),je={class:"tagClass flex flex-align-center"},xe={class:"tagClass flex flex-align-center"},Me=m("\u53D1\u9001\u7ED9\u5BA2\u6237"),Oe=m("\u53D1\u9001\u7ED9\u5BA2\u6237\u7FA4"),qe=m("\u53D1\u9001\u5230\u670B\u53CB\u5708"),Ce={key:0},Se=m("\u6309\u6761\u4EF6\u7B5B\u9009\u5BA2\u6237"),Te=m("\u5168\u90E8"),Ue={key:1},Ie=C(()=>i("label",{class:"el-form-item__label"},[i("i",{class:"color-red"},"*"),m(" \u7B5B\u9009\u7FA4\u4E3B ")],-1)),Ee={key:2},Ne=m("\u6309\u6761\u4EF6\u7B5B\u9009\u5BA2\u6237"),De=m("\u5168\u90E8"),Re={class:"tagClass flex flex-align-center"},Ge={key:0,class:"search-head-wrap"},Le=m("\u4F01\u4E1A\u7FA4\u53D1"),Pe=m("\u6210\u5458\u5355\u53D1"),Ae={key:0},Be={key:0},Fe={key:1},He={key:1},$e={key:0},Je={key:0},ze={key:1},Ye={key:1},Xe={key:0},Ke={key:1},Qe={class:"known"},We={class:"el-form-item__label"},Ze=C(()=>i("i",{class:"color-red"},"*",-1)),et=m(" \u6D88\u606F\u5185\u5BB9 "),tt={class:"el-form-item_label-span"},lt={class:"item-button tr"},at=m("\u53D6\u6D88"),ot=m("\u63D0\u4EA4"),ut={key:1,class:"search-head-wrap"},nt=m("\u4F01\u4E1A\u53D1\u8868\u5BA2\u6237\u670B\u53CB\u5708"),st=m("\u6210\u5458\u53D1\u8868\u5BA2\u6237\u670B\u53CB\u5708"),rt={key:0},_t={key:1},it={key:0},ct={key:1},dt={class:"known"},mt={class:"el-form-item__label"},pt=C(()=>i("i",{class:"color-red"},"*",-1)),vt=m(" \u6D88\u606F\u5185\u5BB9 "),ft={class:"el-form-item_label-span"},gt={class:"item-button tr"},ht=m("\u53D6\u6D88"),bt=m("\u63D0\u4EA4"),yt=C(()=>i("div",{class:"group_name"},"\u5F53\u524D\u9875\u9762\u672A\u4FDD\u5B58\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u8BE5\u9875\u9762",-1)),kt=C(()=>i("span",{class:"group_name"}," \u5207\u6362\u76EE\u6807\u5BF9\u8C61\uFF0C\u4F1A\u5BFC\u81F4\u5DF2\u7F16\u8F91\u7684\u89E6\u8FBE\u52A8\u4F5C\u5185\u5BB9\u6E05\u7A7A\u3002\u786E\u8BA4\u662F\u5426\u7EE7\u7EED\u5207\u6362\uFF1F ",-1)),wt={class:"dialog-footer"},Vt=m("\u53D6\u6D88"),jt=m("\u786E\u8BA4"),xt={setup(S){const D=me(),f=pe(),R=h(!1),g=h([]),G=h([]),T=h(null),M=h(!1),L=h(!1),F=h(!1),U=h(!1),y=h([]),e=h({name:"",end_time:"",touch_object:"",receive_type:"",receive_group:[],task_type:"",content_arr:[],all_customer_num:0,no_touch_num:0,can_touch_num:0,select_receiver_num:0}),k=ve({taskTitle:"",manualTask:"",planTask:"",writeBackSelectedMemberOrg:[],customInputValueFn:s=>W(s,3)||"",rules:{name:[{required:!0,message:"\u4EFB\u52A1\u540D\u79F0\u662F\u5FC5\u586B\u9879"},{max:10,message:"\u4EFB\u52A1\u540D\u79F0\u957F\u5EA6\u4EC5\u4E3A10\u4E2A\u5B57",trigger:"blur"}],end_time:[{required:!0,message:"\u4EFB\u52A1\u622A\u6B62\u6267\u884C\u65F6\u95F4\u662F\u5FC5\u586B\u9879",trigger:"blur"}],touch_object:[{required:!0,message:"\u9009\u62E9\u5BF9\u8C61\u7C7B\u578B\u662F\u5FC5\u586B\u9879",trigger:"change"}],receive_type:[{required:!0,message:"\u7B5B\u9009\u5BA2\u6237\u662F\u5FC5\u586B\u9879",trigger:"change"}],task_type:[{required:!0,message:"\u89E6\u8FBE\u65B9\u5F0F\u662F\u5FC5\u586B\u9879",trigger:"change"}]}}),K=()=>{y.value.push(e.value.touch_object),console.log("swtichTouchObject",y.value),F.value&&(L.value=!0),L.value?M.value=!0:L.value=!0},Q=()=>{y.value=[],y.value.push(e.value.touch_object),e.value.content_arr=[],M.value=!1},H=()=>{for(let s=1;s<y.value.length;s++)y.value.slice(s,y.value.length-1),e.value.touch_object=y.value[0];M.value=!1};function W(s,l){return`${s.slice(0,l).map(n=>n.member_name||n.department_name).join("\uFF0C")}${s.length>l?"...":""}`}function P(s,l){const n=200;return l>=n?(v({message:`\u6700\u591A\u652F\u6301\u5BA2\u6237\u4EBA\u6570${n}\u4EBA`,type:"error"}),!1):!0}function A(s){k.writeBackSelectedMemberOrg=s;let l=[];s&&Array.isArray(s)&&s.map(n=>{l.push(n.id)}),T.value&&(T.value.dialogVisible=!1),f.query.type=="edit"&&!e.value.receive_group[0]&&e.value.receive_group.push({}),e.value.receive_group[0].select_members=l,j()}function $(){R.value=!0}const Z=()=>{D.push({name:"calendar"})},ee=()=>{R.value=!1},J=async s=>{const{mediaList:l,content:n}=await le(e.value.content_arr);if(n==""&&l==""){v.error("\u8BF7\u8F93\u5165\u8981\u53D1\u9001\u7684\u6D88\u606F\u5185\u5BB9\u548C\u5BF9\u5E94\u9644\u4EF6");return}if(n==""&&e.value.touch_object=="MOMENTS"&&e.value.task_type=="5"){v.error("\u6210\u5458\u53D1\u5BA2\u6237\u670B\u53CB\u5708\u4EFB\u52A1\u9700\u53D1\u9001\u6587\u672C\uFF0C\u6587\u672C\u5185\u5BB9\u672A\u586B\u5199");return}if(f.query.type=="add"){if(f.query.title=="\u624B\u5DE5\u4EFB\u52A1"){if(e.value.task_property="HAND",e.value.is_repeat="0",e.value.receive_type=="GROUP"&&(e.value.receive_type="1"),e.value.name==""){v.error("\u4EFB\u52A1\u540D\u79F0\u4E3A\u7A7A\uFF0C\u8BF7\u8BBE\u7F6E\u4EFB\u52A1\u540D\u79F0");return}if(e.value.task_type==""){v.error("\u76EE\u6807\u5BF9\u8C61\u672A\u9009\u62E9\uFF0C\u8BF7\u9009\u62E9\u76EE\u6807\u5BF9\u8C61");return}if(e.value.end_time==""){v.error("\u4EFB\u52A1\u622A\u6B62\u65F6\u95F4\u672A\u9009\u62E9\uFF0C\u8BF7\u9009\u62E9\u4EFB\u52A1\u622A\u6B62\u65F6\u95F4");return}}let t=[];if(JSON.stringify(e.value.receive_group)!="[]"&&(g.value.length==0?e.value.receive_group[0].tag_ids=t:g.value.forEach(w=>{t.push(w.tag_id),e.value.receive_group[0].tag_ids=t}),JSON.stringify(e.value.receive_group[0])=="{}"&&e.value.receive_type=="1")){v.error("\u6761\u4EF6\u7EC4\u90FD\u4E3A\u7A7A\uFF0C\u8BF7\u9009\u62E9\u4E00\u79CD\u6761\u4EF6");return}U.value=!0;let a=e.value;a.content=n,a.annex_content_json=l,(await N.addHandTask(a)).code===200&&(v.success({message:"\u63D0\u4EA4\u6210\u529F"}),D.push({name:"calendar"}))}else{let t=[];if(e.value.name==""){v.error("\u4EFB\u52A1\u540D\u79F0\u4E3A\u7A7A\uFF0C\u8BF7\u8BBE\u7F6E\u4EFB\u52A1\u540D\u79F0");return}if(e.value.task_type==""){v.error("\u76EE\u6807\u5BF9\u8C61\u672A\u9009\u62E9\uFF0C\u8BF7\u9009\u62E9\u76EE\u6807\u5BF9\u8C61");return}if(e.value.end_time==""){v.error("\u4EFB\u52A1\u622A\u6B62\u65F6\u95F4\u672A\u9009\u62E9\uFF0C\u8BF7\u9009\u62E9\u4EFB\u52A1\u622A\u6B62\u65F6\u95F4");return}if(JSON.stringify(e.value.receive_group)!="[]"&&(g.value.length==0?e.value.receive_group[0].tag_ids=t:g.value.forEach(w=>{t.push(w.tag_id),e.value.receive_group[0].tag_ids=t}),(!k.writeBackSelectedMemberOrg||!k.writeBackSelectedMemberOrg[0])&&g.value.length==0)){v.error("\u6761\u4EF6\u7EC4\u90FD\u4E3A\u7A7A\uFF0C\u8BF7\u9009\u62E9\u4E00\u79CD\u6761\u4EF6");return}U.value=!0;let a=e.value;console.log("params",a),a.id=s,a.content=n,a.annex_content_json=l,(await N.handUpdateTaskSave(a)).code===200&&(v.success({message:"\u4FEE\u6539\u6210\u529F"}),D.push({name:"calendar"}))}},te=async s=>{let{data:l}=await N.handEditOrDetailTask({id:s});e.value=l,e.value.content_arr=ae(l),G.value=l.receive_group[0].tag_arr,k.writeBackSelectedMemberOrg=l.receive_group[0].select_members_info},le=s=>{let l=[],n="";return s.length||Promise.resolve({mediaList:l,content:n}),console.log("\u521D\u59CB\u5316\u524D\u53C2\u6570",s),s.forEach(t=>{let a={};switch(t.type){case"IMAGE":a.type="images",a.source_id=t.file_id,a.upload_url=t.file_url;break;case"VIDEO":a.type="video",a.source_id=t.file_id,a.media_url=t.file_url,a.title=t.title;break;case"LINK":a.type="web_page",a.file_id=t.file_id,a.upload_url=t.file_url,a.url=t.url+t.qw_link_url,a.title=t.qw_link_title,a.description=t.qw_link_desc;break;case"MINIPROGRAM":a.type="we_applets",a.appid=t.qw_miniprogram_appid,a.source_id=t.file_id,a.title=t.qw_miniprogram_title,a.url=t.qw_miniprogram_page,a.upload_url=t.file_url;break;case"FILE":a=t;break;case"TEXT":n=n+t.content;break}JSON.stringify(a)!=="{}"&&l.push(a)}),Promise.resolve({mediaList:l,content:n})},ae=s=>{let l=[];if(s.content){let n={type:"TEXT",content:s.content};l.push(n)}if(console.log("\u5904\u7406\u524D\u6570\u636E",s.annex_content_json),s.annex_content_json&&s.annex_content_json.length){let n=s.annex_content_json;for(let t=0;t<n.length;t++){let a={},p="";switch(n[t].type){case"images":a.type="IMAGE",a.file_id=n[t].source_id,a.sort=t,a.file_url=n[t].upload_url;break;case"web_page":a.type="LINK",a.sort=t,a.file_id=n[t].source_id,a.qw_link_title=n[t].title,a.file_url=n[t].upload_url,a.qw_link_desc=n[t].description,p=n[t].url.split("://"),a.qw_link_url=p[1],a.url=p[0]+"://";break;case"we_applets":a.type="MINIPROGRAM",a.sort=t,a.file_id=n[t].source_id,a.qw_miniprogram_title=n[t].title,a.qw_miniprogram_appid=n[t].appid,a.qw_miniprogram_page=n[t].url,a.file_url=n[t].upload_url;break;case"video":a.sort=t,a.type="VIDEO",a.file_id=n[t].source_id,a.title=n[t].title||"",a.file_url=n[t].media_url;break;case"FILE":a=n[t];break}l.push(a)}}return console.log("\u56DE\u663E\u6570\u636E",l),l},j=async()=>{if(e.value.name==""||e.value.task_type==""){e.value.all_customer_num=0,e.value.no_touch_num=0,e.value.can_touch_num=0;return}else if(e.value.receive_type=="1"&&g.value.length=="0"&&JSON.stringify(e.value.receive_group[0].select_members)=="{}"){e.value.all_customer_num=0,e.value.no_touch_num=0,e.value.can_touch_num=0;return}else{let s={};if(f.query.title=="\u624B\u5DE5\u4EFB\u52A1"&&(s.task_property="HAND"),e.value.touch_object=="GROUP"&&(e.value.receive_type="1"),g.value!=""){let n=[];g.value.forEach(t=>{n.push(t.tag_id),console.log("tag_ids",n,t.tag_id)}),f.query.type=="edit"&&!e.value.receive_group[0]&&e.value.receive_group.push({}),e.value.receive_group[0].tag_ids=n}if(e.value.receive_type==""){v.error("\u7B5B\u9009\u5BA2\u6237\u672A\u9009\u62E9\uFF0C\u8BF7\u7B5B\u9009\u5BA2\u6237");return}s.touch_object=e.value.touch_object,s.task_type=e.value.task_type,s.start_time=e.value.start_time,s.receive_type=e.value.receive_type,s.receive_group=e.value.receive_group;let{data:l}=await N.getTouchNum(s);e.value.all_customer_num=l.all_customer_num,e.value.no_touch_num=l.no_touch_num,e.value.can_touch_num=l.can_touch_num}},oe=()=>{const s=24*60*60*1e3;if(be(e.value.end_time).unix()*1e3-1<new Date-1+s){v.error({message:"\u6240\u9009\u4EFB\u52A1\u622A\u6B62\u65F6\u95F4\u65F6\u957F\u5C0F\u4E8E\u5F53\u524D\u65F6\u95F424\u5C0F\u65F6\uFF0C\u8BF7\u9009\u62E9\u8D85\u8D8A\u5F53\u524D\u65F6\u95F424\u5C0F\u65F6\u7684\u65F6\u957F!"}),e.value.end_time="";return}},ue=s=>{const l=24*60*60*1e3;let n=Date.now();const t=new Date().getTime()+l*30;return s.getTime()<n+l||s.getTime()>t};return fe(async()=>{f.query.type=="edit"&&(await te(f.query.id),F.value=!0,y.value.push(e.value.touch_object)),f.query.type=="add"&&(e.value.content_arr[0]={type:"TEXT",content:""},e.value.receive_group[0]={})}),(s,l)=>{const n=b("el-input"),t=b("el-form-item"),a=b("el-date-picker"),p=b("el-radio"),w=b("el-radio-group"),I=b("el-col"),z=ie,E=b("el-row"),x=b("el-button"),ne=b("el-form"),se=ce,re=de,_e=b("el-dialog");return c(),d("div",null,[o(se,{class:"page-scroll"},{default:u(()=>[o(ne,{size:"small","label-position":"top",model:e.value,rules:V(k).rules},{default:u(()=>[i("div",je,[o(B,{title:"\u57FA\u7840\u4FE1\u606F"})]),i("div",null,[o(t,{label:"\u4EFB\u52A1\u540D\u79F0",prop:"name"},{default:u(()=>[o(n,{modelValue:e.value.name,"onUpdate:modelValue":l[0]||(l[0]=r=>e.value.name=r),type:"text",placeholder:"\u8BF7\u8F93\u5165",class:"known",maxlength:"10","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(t,{label:"\u4EFB\u52A1\u622A\u6B62\u65F6\u95F4",prop:"end_time"},{default:u(()=>[o(a,{modelValue:e.value.end_time,"onUpdate:modelValue":l[1]||(l[1]=r=>e.value.end_time=r),type:"datetime",format:"MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"\u8BF7\u9009\u62E9\u4EFB\u52A1\u622A\u6B62\u65F6\u95F4",style:{width:"520px"},"disabled-date":ue,onChange:l[2]||(l[2]=r=>oe())},null,8,["modelValue"])]),_:1})]),i("div",xe,[o(B,{title:"\u76EE\u6807\u5BF9\u8C61"})]),i("div",null,[o(t,{label:"\u9009\u62E9\u5BF9\u8C61\u7C7B\u578B",prop:"touch_object"},{default:u(()=>[o(w,{modelValue:e.value.touch_object,"onUpdate:modelValue":l[3]||(l[3]=r=>e.value.touch_object=r),onChange:l[4]||(l[4]=r=>K())},{default:u(()=>[o(p,{label:"SINGLE"},{default:u(()=>[Me]),_:1}),o(p,{label:"GROUP"},{default:u(()=>[Oe]),_:1}),o(p,{label:"MOMENTS"},{default:u(()=>[qe]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.value.touch_object=="SINGLE"?(c(),d("div",Ce,[o(t,{label:"\u7B5B\u9009\u5BA2\u6237",prop:"receive_type",onChange:j},{default:u(()=>[o(w,{modelValue:e.value.receive_type,"onUpdate:modelValue":l[5]||(l[5]=r=>e.value.receive_type=r)},{default:u(()=>[o(p,{label:"1"},{default:u(()=>[Se]),_:1}),o(p,{label:"0"},{default:u(()=>[Te]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.value.receive_type=="1"?(c(),Y(E,{key:0,gutter:24},{default:u(()=>[o(I,{span:12},{default:u(()=>[o(t,{label:"\u6807\u7B7E\u7B5B\u9009",prop:"receive_group",onChange:j},{default:u(()=>[o(X,{modelValue:g.value,"onUpdate:modelValue":l[6]||(l[6]=r=>g.value=r),"edit-select-list":G.value},null,8,["modelValue","edit-select-list"])]),_:1})]),_:1}),o(I,{span:12},{default:u(()=>[o(t,{label:"\u6210\u5458\u7B5B\u9009",prop:"receive_group"},{default:u(()=>[o(z,{ref_key:"addMemberDialogRef",ref:T,"input-placeholder":"\u8BF7\u9009\u62E9\u4F01\u5FAE\u6210\u5458","is-group":e.value.touch_object=="GROUP","is-multiple-selected":!0,"custom-input-value-fn":V(k).customInputValueFn,"custom-selected-fn":P,style:{width:"200px"},onConfirm:A},{default:u(r=>[i("span",null,[o(n,{modelValue:r.data,"onUpdate:modelValue":O=>r.data=O,placeholder:"\u8BF7\u9009\u62E9","suffix-icon":"el-icon-caret-bottom",readonly:""},null,8,["modelValue","onUpdate:modelValue"])])]),_:1},8,["is-group","custom-input-value-fn"])]),_:1})]),_:1})]),_:1})):q("",!0)])):q("",!0),e.value.touch_object=="GROUP"?(c(),d("div",Ue,[Ie,o(t,{label:"\u6210\u5458\u7B5B\u9009",prop:"receive_group"},{default:u(()=>[o(z,{ref_key:"addMemberDialogRef",ref:T,"input-placeholder":"\u8BF7\u9009\u62E9\u4F01\u5FAE\u6210\u5458","is-group":e.value.touch_object=="GROUP","is-multiple-selected":!0,"custom-input-value-fn":V(k).customInputValueFn,"custom-selected-fn":P,style:{width:"200px"},onConfirm:A},{default:u(r=>[i("span",null,[o(n,{modelValue:r.data,"onUpdate:modelValue":O=>r.data=O,placeholder:"\u8BF7\u9009\u62E9","suffix-icon":"el-icon-caret-bottom",readonly:""},null,8,["modelValue","onUpdate:modelValue"])])]),_:1},8,["is-group","custom-input-value-fn"])]),_:1})])):q("",!0),e.value.touch_object=="MOMENTS"?(c(),d("div",Ee,[o(t,{label:"\u53EF\u89C1\u5BA2\u6237",prop:"receive_type",onChange:j},{default:u(()=>[o(w,{modelValue:e.value.receive_type,"onUpdate:modelValue":l[7]||(l[7]=r=>e.value.receive_type=r)},{default:u(()=>[o(p,{label:"1"},{default:u(()=>[Ne]),_:1}),o(p,{label:"0"},{default:u(()=>[De]),_:1})]),_:1},8,["modelValue"])]),_:1}),e.value.receive_type=="1"?(c(),Y(E,{key:0,gutter:24},{default:u(()=>[o(I,{span:12},{default:u(()=>[o(t,{label:"\u6807\u7B7E\u7B5B\u9009",prop:"receive_group",onChange:j},{default:u(()=>[o(X,{modelValue:g.value,"onUpdate:modelValue":l[8]||(l[8]=r=>g.value=r),"edit-select-list":G.value},null,8,["modelValue","edit-select-list"])]),_:1})]),_:1}),o(I,{span:12},{default:u(()=>[o(t,{label:"\u6210\u5458\u7B5B\u9009",prop:"receive_group"},{default:u(()=>[o(ye,{"write-back-selected-member-org":V(k).writeBackSelectedMemberOrg,"is-multiple-selected":!0,"custom-input-value-fn":V(k).customInputValueFn,"custom-selected-fn":P,"touch-object":e.value.touch_object,onConfirm:A},{default:u(r=>[o(n,{modelValue:r.data,"onUpdate:modelValue":O=>r.data=O,placeholder:"\u8BF7\u9009\u62E9","suffix-icon":"el-icon-caret-bottom",readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["write-back-selected-member-org","custom-input-value-fn","touch-object"])]),_:1})]),_:1})]),_:1})):q("",!0)])):q("",!0)]),i("div",Re,[o(B,{title:"\u89E6\u8FBE\u52A8\u4F5C"})]),e.value.touch_object!="MOMENTS"?(c(),d("div",Ge,[o(t,{label:"\u89E6\u8FBE\u65B9\u5F0F",prop:"task_type",onChange:j},{default:u(()=>[o(w,{modelValue:e.value.task_type,"onUpdate:modelValue":l[9]||(l[9]=r=>e.value.task_type=r)},{default:u(()=>[o(p,{label:"3"},{default:u(()=>[Le]),_:1}),o(p,{label:"1"},{default:u(()=>[Pe]),_:1})]),_:1},8,["modelValue"]),V(f).query.type=="add"?(c(),d("div",Ae,[e.value.touch_object!="GROUP"?(c(),d("span",Be,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u6570\uFF1A"+_(e.value.can_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u6570\uFF1A"+_(e.value.all_customer_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1)):(c(),d("span",Fe,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u7FA4\u6570\uFF1A"+_(e.value.can_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u7FA4\u6570\uFF1A"+_(e.value.all_customer_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1))])):(c(),d("div",He,[e.value.can_touch_num?(c(),d("div",$e,[e.value.touch_object!="GROUP"?(c(),d("span",Je,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u6570\uFF1A"+_(e.value.can_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u6570\uFF1A"+_(e.value.all_customer_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1)):(c(),d("span",ze,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u7FA4\u6570\uFF1A"+_(e.value.can_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u7FA4\u6570\uFF1A"+_(e.value.all_customer_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1))])):(c(),d("div",Ye,[e.value.touch_object!="GROUP"?(c(),d("span",Xe,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u6570\uFF1A"+_(e.value.select_receiver_num-e.value.no_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u6570\uFF1A"+_(e.value.select_receiver_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1)):(c(),d("span",Ke,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u7FA4\u6570\uFF1A"+_(e.value.select_receiver_num-e.value.no_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u7FA4\u6570\uFF1A"+_(e.value.select_receiver_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1))]))]))]),_:1}),o(E,null,{default:u(()=>[i("div",Qe,[o(t,{required:""},{default:u(()=>[i("label",We,[Ze,et,i("span",tt," \u53EF\u6DFB\u52A0\u7D20\u6750\u6570\u91CF "+_(e.value.content_arr.length)+"/10 ",1)]),o(ke,{modelValue:e.value.content_arr,"onUpdate:modelValue":l[10]||(l[10]=r=>e.value.content_arr=r),"text-limit":800},null,8,["modelValue"])]),_:1})])]),_:1}),i("div",lt,[o(x,{onClick:$},{default:u(()=>[at]),_:1}),o(x,{type:"primary",disabled:U.value,onClick:l[11]||(l[11]=r=>J(V(f).query.id))},{default:u(()=>[ot]),_:1},8,["disabled"])])])):(c(),d("div",ut,[o(t,{label:"\u89E6\u8FBE\u65B9\u5F0F",prop:"task_type",onChange:j},{default:u(()=>[o(w,{modelValue:e.value.task_type,"onUpdate:modelValue":l[12]||(l[12]=r=>e.value.task_type=r)},{default:u(()=>[o(p,{label:"4"},{default:u(()=>[nt]),_:1}),o(p,{label:"5"},{default:u(()=>[st]),_:1})]),_:1},8,["modelValue"]),V(f).query.type=="add"?(c(),d("div",rt,[i("span",null,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u6570\uFF1A"+_(e.value.can_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u6570\uFF1A"+_(e.value.all_customer_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1)])):(c(),d("div",_t,[e.value.can_touch_num?(c(),d("div",it,[i("span",null,"\u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u6570\uFF1A"+_(e.value.can_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u6570\uFF1A"+_(e.value.all_customer_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1)])):(c(),d("div",ct," \u9884\u4F30\u89E6\u8FBE\u5BA2\u6237\u6570\uFF1A"+_(e.value.select_receiver_num-e.value.no_touch_num)+"\uFF0C\u7B5B\u9009\u5BA2\u6237\u6570\uFF1A"+_(e.value.select_receiver_num)+"\uFF0C\u4E0D\u53EF\u89E6\u8FBE\u6570\uFF1A"+_(e.value.no_touch_num),1))]))]),_:1}),o(E,null,{default:u(()=>[i("div",dt,[o(t,{required:""},{default:u(()=>[i("label",mt,[pt,vt,i("span",ft," \u53EF\u6DFB\u52A0\u7D20\u6750\u6570\u91CF "+_(e.value.content_arr.length)+"/10 ",1)]),o(we,{modelValue:e.value.content_arr,"onUpdate:modelValue":l[13]||(l[13]=r=>e.value.content_arr=r),"text-limit":800,"task-type":e.value.task_type},null,8,["modelValue","task-type"])]),_:1})])]),_:1}),i("div",gt,[o(x,{onClick:$},{default:u(()=>[ht]),_:1}),o(x,{type:"primary",disabled:U.value,onClick:l[14]||(l[14]=r=>J(V(f).query.id))},{default:u(()=>[bt]),_:1},8,["disabled"])])]))]),_:1},8,["model","rules"])]),_:1}),o(re,{title:"\u63D0\u793A","dialog-visible":R.value,width:"400px","confirm-fn":()=>Z(),onCancel:ee},{default:u(()=>[yt]),_:1},8,["dialog-visible","confirm-fn"]),o(_e,{modelValue:M.value,"onUpdate:modelValue":l[15]||(l[15]=r=>M.value=r),title:"\u6E29\u99A8\u63D0\u793A",width:"400px","before-close":H},{footer:u(()=>[i("span",wt,[o(x,{size:"small",onClick:H},{default:u(()=>[Vt]),_:1}),o(x,{type:"primary",size:"small",onClick:Q},{default:u(()=>[jt]),_:1})])]),default:u(()=>[kt]),_:1},8,["modelValue"])])}}};var zt=Ve(xt,[["__scopeId","data-v-1af14eca"]]);export{zt as default};
