
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as H}from"./index.333b158c.js";import{_ as M}from"./index.60aa6862.js";import{_ as N}from"./index.5931791c.js";import{c as g,H as x}from"./index.94e839d6.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import{M as u,o as R,r,a as v,q as w,y as l,z as i,t as e,A as c,L as f,R as U,S as A,c as J,F as K,G as P,H as m,E as V}from"./vendor.d2559d84.js";const C=d=>(K("data-v-55562f14"),d=d(),P(),d),Q={class:"dialog-class"},W={class:"flex flex-align-center"},X=["src"],Y={class:"ml8 lh24 show-line2"},Z=C(()=>e("div",null,"x1",-1)),ee={class:"mt4 message-class"},se=m(" \u6536\u8D27\u4EBA: "),oe={class:"message-content-class"},te={class:"mt12 message-class"},le=m(" \u624B\u673A\u53F7\u7801: "),ae={class:"message-content-class"},ie={class:"mt12 message-class"},ne=m(" \u6536\u8D27\u5730\u5740: "),ce={class:"message-content-class"},re={class:"mt24"},de=C(()=>e("div",{class:"logistics_input mt8"},"* \u8BF7\u4ED4\u7EC6\u586B\u5199\u7269\u6D41\u516C\u53F8\u53CA\u7269\u6D41\u5355\u53F7",-1)),_e=m("\u53D1\u8D27"),ue={props:{dialogVisible:{type:Boolean,default:!1},sendDeliverData:{type:Object,default:function(){return{}}}},emits:["update:dialogVisible","updateDeliverStatus"],setup(d,{emit:p}){const t=d,a=u({logistics_no:"",logistics_com:""}),D=u({}),$=u({logistics_com:[{required:!0,message:"\u7269\u6D41\u516C\u53F8\u662F\u5FC5\u9009\u9879",trigger:["blur","change"]}],logistics_no:[{required:!0,message:"\u7269\u6D41\u5355\u53F7\u662F\u5FC5\u586B\u9879",trigger:"blur"}]}),b=u(null),k=u(!1),j=()=>{p("update:dialogVisible",!1)},S=async()=>{let{data:n}=await x.getOrderExpressCode();D.value=n},B=async()=>{let n={};if(a.value.logistics_no==""||a.value.logistics_com==""){V.warning({message:"\u8BF7\u586B\u5199\u7269\u6D41\u4FE1\u606F\uFF01"}),E();return}n.order_id=t.sendDeliverData.order_id,n.logistics_no=a.value.logistics_no,n.logistics_com=a.value.logistics_com,(await x.sendOrderGoods(n)).code===200&&(V.success({message:"\u53D1\u8D27\u6210\u529F!"}),a.value.logistics_no="",a.value.logistics_com="",p("update:dialogVisible",!1),p("updateDeliverStatus",!0))},E=async()=>{let n=!0;b.value.validate((s,_)=>{if(console.log(s,_),s)console.log("subimt");else return console.log("error submit!!"),n=!1,!1}),!!n};return R(async()=>{await S()}),(n,s)=>{const _=r("el-table-column"),O=H,y=M,T=r("el-option"),F=r("el-select"),h=r("el-form-item"),I=r("el-input"),q=r("el-form"),z=r("el-button"),G=N;return v(),w("div",Q,[l(G,{title:"\u8BA2\u5355\u53D1\u8D27",width:"638px",top:"7vh","dialog-visible":t.dialogVisible,"custom-confirm":!0,onCancel:j},{confirm:i(()=>[l(z,{type:"primary",size:"small",onClick:s[5]||(s[5]=o=>B())},{default:i(()=>[_e]),_:1})]),default:i(()=>[l(O,{"table-data":[t.sendDeliverData],class:"order-table"},{default:i(()=>[l(_,{prop:"goods_title",label:"\u5546\u54C1\u540D\u79F0","min-width":"320"},{default:i(o=>[e("div",W,[e("img",{src:o.row.order_goods_img,class:"img-class"},null,8,X),e("div",Y,c(o.row.goods_title),1)])]),_:1}),l(_,{prop:"total_score",label:"\u5151\u6362\u6240\u9700\u79EF\u5206","min-width":"150"},{default:i(o=>[e("div",null,c(o.row.total_score),1)]),_:1}),l(_,{prop:"num",label:"\u6570\u91CF","min-width":"120"},{default:i(()=>[Z]),_:1})]),_:1},8,["table-data"]),e("div",null,[l(y,{title:"\u6536\u8D27\u4EBA\u4FE1\u606F"}),e("div",ee,[se,e("span",oe,c(t.sendDeliverData.contact_name),1),e("i",{class:"copy-icon el-icon-document-copy ml9",onClick:s[0]||(s[0]=o=>f(g)(t.sendDeliverData.contact_name))})]),e("div",te,[le,e("span",ae,c(t.sendDeliverData.contact_mobile),1),e("i",{class:"copy-icon el-icon-document-copy ml9",onClick:s[1]||(s[1]=o=>f(g)(t.sendDeliverData.contact_mobile))})]),e("div",ie,[ne,e("span",ce,c(t.sendDeliverData.province)+" "+c(t.sendDeliverData.city)+" "+c(t.sendDeliverData.area)+" "+c(t.sendDeliverData.address),1),e("i",{class:"copy-icon el-icon-document-copy ml9",onClick:s[2]||(s[2]=o=>f(g)(`${t.sendDeliverData.province} ${t.sendDeliverData.city} ${t.sendDeliverData.area} ${t.sendDeliverData.address}`))})])]),e("div",re,[l(y,{title:"\u7269\u6D41\u4FE1\u606F"}),l(q,{ref_key:"ruleForm",ref:b,size:"small","label-position":"top",model:a.value,rules:$.value},{default:i(()=>[l(h,{label:"\u7269\u6D41\u516C\u53F8",prop:"logistics_com",class:"logistics-select"},{default:i(()=>[l(F,{modelValue:a.value.logistics_com,"onUpdate:modelValue":s[3]||(s[3]=o=>a.value.logistics_com=o),filterable:"",loading:k.value,style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u7269\u6D41\u516C\u53F8"},{default:i(()=>[(v(!0),w(U,null,A(D.value,o=>(v(),J(T,{key:o.code,label:o.name,value:o.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),l(h,{label:"\u7269\u6D41\u5355\u53F7",prop:"logistics_no",class:"mb0"},{default:i(()=>[l(I,{modelValue:a.value.logistics_no,"onUpdate:modelValue":s[4]||(s[4]=o=>a.value.logistics_no=o),placeholder:"\u8BF7\u8F93\u5165\u771F\u5B9E\u6709\u6548\u7684\u7269\u6D41\u5355\u53F7"},null,8,["modelValue"]),de]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["dialog-visible"])])}}};var be=L(ue,[["__scopeId","data-v-55562f14"]]);export{be as o};
